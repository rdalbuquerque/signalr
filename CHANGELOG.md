# Changelog

All notable changes to this project will be documented in this file. See [standard-version](https://github.com/conventional-changelog/standard-version) for commit guidelines.

### 0.0.2-alpha.0 (2024-07-10)


### Features

* add Stop() function ([4180cb1](https://github.com/rdalbuquerque/signalr/commit/4180cb16218909afa63f2a778ecda9ced691d442))
* add Stop() function ([5429e8f](https://github.com/rdalbuquerque/signalr/commit/5429e8f7d8a6f6162717dc4339095cf6fcab59a3))
* add support for web transports ([5ac19d3](https://github.com/rdalbuquerque/signalr/commit/5ac19d3f6cf901320e2ce5ef195950d6c7db1503))


### Bug Fixes

* [#161](https://github.com/rdalbuquerque/signalr/issues/161): always read and close body ([aa0f5c5](https://github.com/rdalbuquerque/signalr/commit/aa0f5c58ef87ae20406c3eff7e68da7ba585f577))
* [#161](https://github.com/rdalbuquerque/signalr/issues/161): use http.DefaultClient ([a55f956](https://github.com/rdalbuquerque/signalr/commit/a55f956dd43553d1b821bfeb928c1df844521d77))
* 409 with slow sse connection init ([28846fe](https://github.com/rdalbuquerque/signalr/commit/28846fecea1d8ebdda17f70cc3ec5e0122c6df92))
* add waitGroup to start go func ([d02f2e6](https://github.com/rdalbuquerque/signalr/commit/d02f2e6b259072386a967e02492e2587a0cd82eb))
* Atomic access on 32bit needs 64bit alignment ([35e471b](https://github.com/rdalbuquerque/signalr/commit/35e471b2b21807fad6edc78b60fb9d14f601b3c2))
* AutoReconnect ([1e194ad](https://github.com/rdalbuquerque/signalr/commit/1e194ad847df6eb3bb229ca4bfcfddea1ac09490))
* Avoid race conditions ([e42c375](https://github.com/rdalbuquerque/signalr/commit/e42c37538c1626d7b7d768e8664e569519a99b9d))
* channel not closed by creating function ([1aceee8](https://github.com/rdalbuquerque/signalr/commit/1aceee8e84ab4e2125ffb903316373277ac58b0d))
* check for exceeded backoff ([44901b4](https://github.com/rdalbuquerque/signalr/commit/44901b49f044bda590d848a990e63ed0078dd266))
* check for not set client receiver / server hub ([fecfcc7](https://github.com/rdalbuquerque/signalr/commit/fecfcc760117393f6f8107a19c9b3001b1e743b2))
* Client fallback to json on SSE ([16f7905](https://github.com/rdalbuquerque/signalr/commit/16f79055b6805ed1ec7d53307da219855de55d4a))
* Client SSE connection: parse only data: lines ([0f279e4](https://github.com/rdalbuquerque/signalr/commit/0f279e4883f555f77dd215110aea6b25c75d0663))
* Connection closed when frameLen 0 ([d0a6535](https://github.com/rdalbuquerque/signalr/commit/d0a65351f0ab8d4e7f4b261959030866a4735a95))
* ConnectionID test ([746dc94](https://github.com/rdalbuquerque/signalr/commit/746dc941fd427ab566c81a5dbd9b7296dabda5b9))
* Correct termination of first SSE in connection ([4397adf](https://github.com/rdalbuquerque/signalr/commit/4397adf40e308e3fc39b6f811cdbbb02baeabbe3))
* data race in testcode ([98f5536](https://github.com/rdalbuquerque/signalr/commit/98f55365f6e8e98ca11de3beff287fcf4e80c0f7))
* doc clarification about return values ([bfd9312](https://github.com/rdalbuquerque/signalr/commit/bfd931279bbda1d985e1029cfc536d15895d849a))
* don't panic when encountering web transports ([64421ca](https://github.com/rdalbuquerque/signalr/commit/64421ca77df0e5f2426fb59a0edc5df83dd5bec1))
* e2e test ([de6ae10](https://github.com/rdalbuquerque/signalr/commit/de6ae10e4d03b75f37652c39ade71357cac7e410))
* Encode length as unsigned int ([190cdcd](https://github.com/rdalbuquerque/signalr/commit/190cdcd27b59be44e1e82ec9e820a4d0f7c0e004))
* Encode messageType as positive fixint ([5e8b36c](https://github.com/rdalbuquerque/signalr/commit/5e8b36c1a4bcc5c5cb0733c9c5e9129e2533111b))
* Encode ping message as array ([ce62f90](https://github.com/rdalbuquerque/signalr/commit/ce62f9050f9a6c8df5f229da07a63b7cc90a3743))
* end PullStream with first error ([dc84c49](https://github.com/rdalbuquerque/signalr/commit/dc84c492f4ec6b5796235491df5ef5b1328d6a84))
* Flaky handshake test ([e7dbf11](https://github.com/rdalbuquerque/signalr/commit/e7dbf11ddce888950dd0b165e97c31a42c26a900))
* Flaky test "Clients().All() should invoke all clients" ([1b6f9db](https://github.com/rdalbuquerque/signalr/commit/1b6f9dbd9702982081180eb862cc912a989da2ab))
* Flaky test "Clients().All() should invoke all clients" ([ae6b2a6](https://github.com/rdalbuquerque/signalr/commit/ae6b2a6865654b2b799d6ebe68efb456fcd34287))
* Flaky test "Clients().All() should invoke all clients" ([1f7a1f0](https://github.com/rdalbuquerque/signalr/commit/1f7a1f07364bcb88d2879f442cc3c315dc4568e0))
* Flaky test "Partial messages: It should parse a message sent in two steps" ([0a56ce8](https://github.com/rdalbuquerque/signalr/commit/0a56ce8bd18394ec65a39d3e9fbb3e87e4c7bc5e))
* Flaky test "When an completion message with an result is sent after a stream item was received" ([f4243ad](https://github.com/rdalbuquerque/signalr/commit/f4243ad29cbb5b6aa4e02e3eef0ed472ae0edd8c))
* Flaky test "When an completion message with an result is sent after a stream item was received" ([828020e](https://github.com/rdalbuquerque/signalr/commit/828020ec66e0d7722effa1ffa3b76b7a49111b95))
* go version 1.16 ([fa93e6c](https://github.com/rdalbuquerque/signalr/commit/fa93e6cab15d9b22fbd9aafb95f99f5c8b375211))
* go websocket server rejects nil origin by default ([8c594ac](https://github.com/rdalbuquerque/signalr/commit/8c594ac7c05fcad1678fc567b58ad3b033f09be2))
* go websocket server rejects nil origin by default ([b802a8f](https://github.com/rdalbuquerque/signalr/commit/b802a8fe01007ac55fbcb5eb91d721a49be07d1f))
* golangci-lint ([6542baa](https://github.com/rdalbuquerque/signalr/commit/6542baa00081a6bfe07e2fb27dfc814a35a46784))
* golint errors ([7811e77](https://github.com/rdalbuquerque/signalr/commit/7811e7784ff66b3280ae761032a15a5a32f9ae66))
* goreport problems ([51da2c2](https://github.com/rdalbuquerque/signalr/commit/51da2c219224547350e039e3ca97aaacc049cf11))
* handling of CompletionMessage never returned ([6ea9614](https://github.com/rdalbuquerque/signalr/commit/6ea961429fcbe71ed5cfd5c67684339bceacc32c))
* Hanging goroutine in test ([b6c9077](https://github.com/rdalbuquerque/signalr/commit/b6c9077358f793f708fdc160795fd81b197eefd8))
* Hanging loop goroutine ([d710897](https://github.com/rdalbuquerque/signalr/commit/d710897b1f592856befb8a4637ea64d06589977e))
* Hanging loop goroutine ([8240d30](https://github.com/rdalbuquerque/signalr/commit/8240d30cf220e81f4ee258cdb8d64dd8fcbf3fef))
* Hanging SSE test on Windows ([4514350](https://github.com/rdalbuquerque/signalr/commit/4514350f6362358716a16957dd8c07d781e3b9ab))
* hanging tests ([1ef3d68](https://github.com/rdalbuquerque/signalr/commit/1ef3d68bb6309dc80804a9425eb0171467fe6dc9))
* hanging tests and vet/lint errors ([e5c567a](https://github.com/rdalbuquerque/signalr/commit/e5c567a12363365336c640d00345a837b01e7faa))
* incorrect error text ([45be65f](https://github.com/rdalbuquerque/signalr/commit/45be65f34615bcec002535f15c3151cec3139d6b))
* invocationMessage: List of parameters was passed as one array of parameters ([e7857f6](https://github.com/rdalbuquerque/signalr/commit/e7857f6b73030fca7258b4aa362346698e48a69b))
* Leak in AutoReconnect ([e50db63](https://github.com/rdalbuquerque/signalr/commit/e50db63c7d31b5c355abb433b98c7a84fdaf442c))
* Leak in AutoReconnect ([63fb61e](https://github.com/rdalbuquerque/signalr/commit/63fb61e73852beec67ffb2a9ffb03ffd80121493))
* lint ([74d77d5](https://github.com/rdalbuquerque/signalr/commit/74d77d5dcf0f0c568cae67100ded3271731c66f2))
* Lint error ([f395a9c](https://github.com/rdalbuquerque/signalr/commit/f395a9c02785d08e680506fdd6e2458231a158d0))
* lint findings ([5f53e36](https://github.com/rdalbuquerque/signalr/commit/5f53e362da9108d0fb05398a10e35c034b1a4e33))
* lint problem ([45fa8f5](https://github.com/rdalbuquerque/signalr/commit/45fa8f5ba58ca8fe4e4c7113a66b9bbd09482671))
* loop is sending CloseMessage on closed connection ([7c2d1e1](https://github.com/rdalbuquerque/signalr/commit/7c2d1e18fecea1028d9e5de57c0fe12df78da3c9))
* MessagePack could only decode to maps with string keys ([90620c6](https://github.com/rdalbuquerque/signalr/commit/90620c635d56e7bf225f5faaaee59936597d28ae))
* Messages wit more than two parts could not be parsed ([afeccc5](https://github.com/rdalbuquerque/signalr/commit/afeccc57aebf38b48b7196773a23834521d02adb))
* missing defer for Unlock ([662032c](https://github.com/rdalbuquerque/signalr/commit/662032c99022d95e3373cf50d79582aa0655eac3))
* missing items in PullStream ([ec32ac2](https://github.com/rdalbuquerque/signalr/commit/ec32ac2740c1893d350843a5f04ee2a02834a022))
* Missing SetReadLimit for websocket connection ([c42dfee](https://github.com/rdalbuquerque/signalr/commit/c42dfee6a45991f993a0c5f8465f0aba8906e832))
* Move SetReadLimit to the right place ([3af722b](https://github.com/rdalbuquerque/signalr/commit/3af722b24f9eb124ed525f16feb0b817f65944b7))
* negotiate error after "rename" refactoring ([16dc0b0](https://github.com/rdalbuquerque/signalr/commit/16dc0b09207cc94a05d94c901eb9a5149f631079))
* negotiateVersion is int not string ([d7a780b](https://github.com/rdalbuquerque/signalr/commit/d7a780bbcc81df7be222b6a97301200f0b6596de))
* negotiation context cancels connection ([55ff6d4](https://github.com/rdalbuquerque/signalr/commit/55ff6d495eabbd097e52c2d45152f051bbc98b3f))
* NewConnectionBase copied sync.Locker ([ee72249](https://github.com/rdalbuquerque/signalr/commit/ee722498831b17f09c6f79d289d72efe68a8d6eb))
* no connection with SSE version 1 ([db3d68b](https://github.com/rdalbuquerque/signalr/commit/db3d68b8afb0057299f926a7a45755996260cc6e))
* Non blocking Invoke methods ([4160e9a](https://github.com/rdalbuquerque/signalr/commit/4160e9ad993f38b27136e3f0c567de018d3264c8))
* npm error output as string ([307a22d](https://github.com/rdalbuquerque/signalr/commit/307a22ddd6b6bc4b6ef4a3f90a579923bfe9b47f))
* ObserveStateChanged was not canceled ([40dd4f0](https://github.com/rdalbuquerque/signalr/commit/40dd4f0610868ddaea52d1b514ee7b57a6e069ae))
* occasional push on closed channel in receive ([b6e0780](https://github.com/rdalbuquerque/signalr/commit/b6e0780d59916ef478bb97a623a6398ed0b4c891))
* only read/write error set stream to nil ([4a9ea04](https://github.com/rdalbuquerque/signalr/commit/4a9ea0435ae73d9b775ecb9ddb4fd226cb31b606))
* only use WebTransport when TransportWebTransports is set as client option ([6aa9891](https://github.com/rdalbuquerque/signalr/commit/6aa98919cfe8674a3da4c7154a3102bb6eb72fbd))
* party.timeout() was not applied to connection ([1a3d693](https://github.com/rdalbuquerque/signalr/commit/1a3d693c22d3e672a2aa0a1e607d7fbf3275c06e))
* path-parse dependabot ([66669ee](https://github.com/rdalbuquerque/signalr/commit/66669eeda11807a7f1ce8f3b04e42b8dd76fb1b5))
* pin iterator for closure ([1caedf0](https://github.com/rdalbuquerque/signalr/commit/1caedf001c92d951e3096fd32604dac6a4f20352))
* Prevent empty data: line SSE ([a6ece48](https://github.com/rdalbuquerque/signalr/commit/a6ece487939c30ccc71c3a1de2ad740f189773ad))
* prevent goroutine leak when connection fails ([05bcd52](https://github.com/rdalbuquerque/signalr/commit/05bcd525c674def5681d911d67a1d2365553b2b3))
* prevent panic when PushStateChanged channel is closed ([4a9f6a0](https://github.com/rdalbuquerque/signalr/commit/4a9f6a073176402f57459d2bc9e9bc70299a786e))
* Prevent timeout reset on ping ([bace5a6](https://github.com/rdalbuquerque/signalr/commit/bace5a6e0450272c6377b9a48f1dbf0f259b8f0d))
* properly stop client on Stop ([0a7b064](https://github.com/rdalbuquerque/signalr/commit/0a7b0648d262a92a2ea57da03f930797c492642d))
* properly stop client on Stop ([bb0f08b](https://github.com/rdalbuquerque/signalr/commit/bb0f08b86b0e85ebaf7fc170cda39cbdd2f69727))
* PushStreams sporadically returns no error when connection fails ([4e07060](https://github.com/rdalbuquerque/signalr/commit/4e07060685db254fd72d4111e4538886f6559e98))
* Race condition in ClientConnection.Start ([40e6b1d](https://github.com/rdalbuquerque/signalr/commit/40e6b1df08881d166560b68c37bfd7710d9d87f0))
* Race in GetNewID ([96a05b3](https://github.com/rdalbuquerque/signalr/commit/96a05b3027a40eb6e875ccf8d1d59110d1558161))
* Race in GetNewID ([249086a](https://github.com/rdalbuquerque/signalr/commit/249086a51b13b9e1032996462889b2bc31c4da23))
* race in serverSSEConnection ([c65fa36](https://github.com/rdalbuquerque/signalr/commit/c65fa368e72e0b129fe5779b6b26af117b358cfe))
* race in state observation ([0449965](https://github.com/rdalbuquerque/signalr/commit/044996590512dffc7a3b72d7fdae959a2a3b7dd6))
* race in webSocketConnection.Write ([a6e50c4](https://github.com/rdalbuquerque/signalr/commit/a6e50c4b3d14b848dd3f903dc2f86cb2d618e5f4))
* Race on ConnectionBase.ctx ([9cbbedf](https://github.com/rdalbuquerque/signalr/commit/9cbbedf7d0b8ce12915f5d2f583435b36d76f51e))
* race testcode ([07e4938](https://github.com/rdalbuquerque/signalr/commit/07e4938ab4428abcd932938092141c36821c0e58))
* Race when Hub is not used transient ([4130d71](https://github.com/rdalbuquerque/signalr/commit/4130d71617619f33cc623af5c7e38a03207d9259))
* recoverLogger shows wrong caller location ([469c33b](https://github.com/rdalbuquerque/signalr/commit/469c33bbd6d9227f55c3d0cb4b074370d3c4bfbc))
* Remove needless check for EOF ([5e17b02](https://github.com/rdalbuquerque/signalr/commit/5e17b02f980d2f60fcbe82316219f9bad08d7e3a))
* removed test focus ([048e2a3](https://github.com/rdalbuquerque/signalr/commit/048e2a34be0cd8a77332208b86d78832d9dc2605))
* removed test shim ([bbf78c1](https://github.com/rdalbuquerque/signalr/commit/bbf78c163ea5a20862d74b10e1a55354030e4635))
* Reset timeout on successful Ping ([729f03b](https://github.com/rdalbuquerque/signalr/commit/729f03be0de1dfc1bb80e17f3c06be2dfffacba2))
* revert commit of focused test ([d188d73](https://github.com/rdalbuquerque/signalr/commit/d188d731bf042e1d9b9dc163b252ae932e9b5b7b))
* Sample did not work with websockets ([1f63bef](https://github.com/rdalbuquerque/signalr/commit/1f63bef6088aa9c1e45010293cd2486cdee6b9b3))
* Send StreamInvocation only when invocation result is stream ([1efb88e](https://github.com/rdalbuquerque/signalr/commit/1efb88ecaa6949d5f0521d156fcd5167fe574c6e))
* Send websocket status codes instead of http codes ([dd8fefa](https://github.com/rdalbuquerque/signalr/commit/dd8fefa2c082dfe7ae4827ab548c11b1ffa1c0db))
* Server could not parse more than one message in frame ([b6ce6de](https://github.com/rdalbuquerque/signalr/commit/b6ce6dee530764c9f72fbf02db22d14f1c9513e2))
* server was ignoring client messages when it sent a ping ([8d035b5](https://github.com/rdalbuquerque/signalr/commit/8d035b554424326a7849872bcbe46356f6c9cc52))
* server was ignoring client messages when it sent a ping ([428d198](https://github.com/rdalbuquerque/signalr/commit/428d1987aece0904658d0119db8e544d945b6551))
* Set client status to Closed, when backoff exceeds ([0480e2d](https://github.com/rdalbuquerque/signalr/commit/0480e2df2eb4a7912a85ecefd537b89718a20b8a))
* Set id query param, according to the negotiateVersion ([747ba55](https://github.com/rdalbuquerque/signalr/commit/747ba55f12af7580fe2d00c1d409bde400fa7aab))
* shim tests while sse development ([fdd6c23](https://github.com/rdalbuquerque/signalr/commit/fdd6c23d2f08029bfa648dd9e6a1bd7576cfa664))
* silence dependabot ([aaa4b8f](https://github.com/rdalbuquerque/signalr/commit/aaa4b8fe33b294d7daccaab8a5a8d9fea08a80c8))
* support parsing of partial and multiple messages ([88335c9](https://github.com/rdalbuquerque/signalr/commit/88335c970b565dd1f4cba8e787d76250de976943))
* Test for real ConnectionId ([3bbb22e](https://github.com/rdalbuquerque/signalr/commit/3bbb22eb23c3d58c158d8de59efa8c12fb7b6cc9))
* Test for real ConnectionId ([5b9a40a](https://github.com/rdalbuquerque/signalr/commit/5b9a40a955a89a0a7fea4eb7d94c1987a9a14cca))
* test logging ([fa9e54d](https://github.com/rdalbuquerque/signalr/commit/fa9e54d4a95bf55aa9904400706c11046aae6e02))
* testing codecov configuration ([4f90ebf](https://github.com/rdalbuquerque/signalr/commit/4f90ebf8a21b2ca867c2dbc2f67d83888fc48406))
* testing codecov configuration ([70ed8fa](https://github.com/rdalbuquerque/signalr/commit/70ed8fa6d6fd7f5fb258fac99db5f8f8b1cfe9a0))
* testing codecov configuration ([8da657b](https://github.com/rdalbuquerque/signalr/commit/8da657b7506c78f498ddf723c550d03358bd4d4d))
* Timeouts ans race conditions in clientconnection ([77be2fe](https://github.com/rdalbuquerque/signalr/commit/77be2fe33fcc429ec35542c287abde27f4cf0fe5))
* typo in comment ([7d65d3c](https://github.com/rdalbuquerque/signalr/commit/7d65d3c6d1454a12f561bd5df3ef52946ad5982f))
* typos ([3d9c420](https://github.com/rdalbuquerque/signalr/commit/3d9c420b4099a8202e9063fadb9d8b908e3caa17))
* Unconstrain tests ([4e603b4](https://github.com/rdalbuquerque/signalr/commit/4e603b4c0ec8f336d0d86bf5f2eec470958c67bc))
* upgrade @microsoft/signalr from 5.0.1 to 5.0.3 ([9ec3431](https://github.com/rdalbuquerque/signalr/commit/9ec3431b9cb30bfefe458111178a7bf2dfaaae5f))
* upgrade @microsoft/signalr-protocol-msgpack from 5.0.1 to 5.0.3 ([fc17361](https://github.com/rdalbuquerque/signalr/commit/fc173619c2695d771f57cf8a22c979e74e0c57de))
* upgrade @types/jest from 26.0.15 to 26.0.20 ([f7cfce5](https://github.com/rdalbuquerque/signalr/commit/f7cfce5dae9b312198fa118bc4e085b19953e5b4))
* upgrade @types/node from 12.19.15 to 12.20.4 ([4da450e](https://github.com/rdalbuquerque/signalr/commit/4da450e3d4635149e24e494fc2f1faefafcd1ad9))
* upgrade @types/node from 12.19.3 to 12.19.15 ([536b278](https://github.com/rdalbuquerque/signalr/commit/536b2789ddb8d7531bef48d332976c6a89df870e))
* upgrade jest from 26.6.1 to 26.6.3 ([d9ab7a2](https://github.com/rdalbuquerque/signalr/commit/d9ab7a26e4b53c58691c9f96950b2b01438521bb))
* upgrade rxjs from 6.6.3 to 6.6.6 ([278d4a8](https://github.com/rdalbuquerque/signalr/commit/278d4a8735bc7c834a67f6ab15f54cfc9b2ae5ad))
* upgrade ts-jest from 26.4.3 to 26.5.0 ([10edb55](https://github.com/rdalbuquerque/signalr/commit/10edb55298b572c8177dad013994a8c13f611653))
* upgrade ts-jest from 26.5.0 to 26.5.2 ([291cea6](https://github.com/rdalbuquerque/signalr/commit/291cea634764bef0260b74a1b09d57715ede3cd9))
* upgrade ts-jest from 26.5.2 to 26.5.3 ([e7b5ba2](https://github.com/rdalbuquerque/signalr/commit/e7b5ba2e4dac287d0ce2501be759d58489e0ac08))
* upgrade typescript from 4.0.5 to 4.1.3 ([727eeb9](https://github.com/rdalbuquerque/signalr/commit/727eeb9c9b9ac0b1abc57c709d6a4b3959ee8219))
* upgrade typescript from 4.1.3 to 4.2.2 ([17a2051](https://github.com/rdalbuquerque/signalr/commit/17a2051911fc1b949082fd4dbf4f6695c8083e86))
* use json tags in msgpack to ensure uppercase/lowercase mapping for struct member names ([20112bc](https://github.com/rdalbuquerque/signalr/commit/20112bce01d52ab88e8f49c2723178230aed128b))
* wait for server port to be served ([48e87ec](https://github.com/rdalbuquerque/signalr/commit/48e87eca640b51b9c11e2fffbd8cf4767632bc61))
* WaitForClientState failed sporadically ([e8de7aa](https://github.com/rdalbuquerque/signalr/commit/e8de7aac5f5bf17395913c2c6014587c2a2e5a47))
* websocketconnection does not use connection context ([9b2083d](https://github.com/rdalbuquerque/signalr/commit/9b2083d7133b83499eaec2287312fe8a649c20c7))
* WebSocketConnection: Timeout on Read shuts down writing connection ([85843c5](https://github.com/rdalbuquerque/signalr/commit/85843c5276c5aed954c4ead7881de03f8cffa89e))
* websocketserver test ([24aea32](https://github.com/rdalbuquerque/signalr/commit/24aea32e394861df60e7175f44f5b785ba108769))
* when server returns unknown negotiation transport return a error ([b98cd08](https://github.com/rdalbuquerque/signalr/commit/b98cd080c9892da3509dacfae590e30753755885))
* wrong error message ([6fdad05](https://github.com/rdalbuquerque/signalr/commit/6fdad052474d01afff187f3822044a92fc59f940))
* wrong MessagePack frameLength encoding ([367c8ec](https://github.com/rdalbuquerque/signalr/commit/367c8ec20c8c2630bff055ae0b268afea40780c4))
* Wrong negotiate address ([0631cb4](https://github.com/rdalbuquerque/signalr/commit/0631cb445afceb4d66c8411d5afe8828f0db7fa9))

## 1.1.0-alpha.0 (2024-07-10)


### Features

* add Stop() function ([4180cb1](https://github.com/rdalbuquerque/signalr/commit/4180cb16218909afa63f2a778ecda9ced691d442))
* add Stop() function ([5429e8f](https://github.com/rdalbuquerque/signalr/commit/5429e8f7d8a6f6162717dc4339095cf6fcab59a3))
* add support for web transports ([5ac19d3](https://github.com/rdalbuquerque/signalr/commit/5ac19d3f6cf901320e2ce5ef195950d6c7db1503))


### Bug Fixes

* [#161](https://github.com/rdalbuquerque/signalr/issues/161): always read and close body ([aa0f5c5](https://github.com/rdalbuquerque/signalr/commit/aa0f5c58ef87ae20406c3eff7e68da7ba585f577))
* [#161](https://github.com/rdalbuquerque/signalr/issues/161): use http.DefaultClient ([a55f956](https://github.com/rdalbuquerque/signalr/commit/a55f956dd43553d1b821bfeb928c1df844521d77))
* 409 with slow sse connection init ([28846fe](https://github.com/rdalbuquerque/signalr/commit/28846fecea1d8ebdda17f70cc3ec5e0122c6df92))
* add waitGroup to start go func ([d02f2e6](https://github.com/rdalbuquerque/signalr/commit/d02f2e6b259072386a967e02492e2587a0cd82eb))
* Atomic access on 32bit needs 64bit alignment ([35e471b](https://github.com/rdalbuquerque/signalr/commit/35e471b2b21807fad6edc78b60fb9d14f601b3c2))
* AutoReconnect ([1e194ad](https://github.com/rdalbuquerque/signalr/commit/1e194ad847df6eb3bb229ca4bfcfddea1ac09490))
* Avoid race conditions ([e42c375](https://github.com/rdalbuquerque/signalr/commit/e42c37538c1626d7b7d768e8664e569519a99b9d))
* channel not closed by creating function ([1aceee8](https://github.com/rdalbuquerque/signalr/commit/1aceee8e84ab4e2125ffb903316373277ac58b0d))
* check for exceeded backoff ([44901b4](https://github.com/rdalbuquerque/signalr/commit/44901b49f044bda590d848a990e63ed0078dd266))
* check for not set client receiver / server hub ([fecfcc7](https://github.com/rdalbuquerque/signalr/commit/fecfcc760117393f6f8107a19c9b3001b1e743b2))
* Client fallback to json on SSE ([16f7905](https://github.com/rdalbuquerque/signalr/commit/16f79055b6805ed1ec7d53307da219855de55d4a))
* Client SSE connection: parse only data: lines ([0f279e4](https://github.com/rdalbuquerque/signalr/commit/0f279e4883f555f77dd215110aea6b25c75d0663))
* Connection closed when frameLen 0 ([d0a6535](https://github.com/rdalbuquerque/signalr/commit/d0a65351f0ab8d4e7f4b261959030866a4735a95))
* ConnectionID test ([746dc94](https://github.com/rdalbuquerque/signalr/commit/746dc941fd427ab566c81a5dbd9b7296dabda5b9))
* Correct termination of first SSE in connection ([4397adf](https://github.com/rdalbuquerque/signalr/commit/4397adf40e308e3fc39b6f811cdbbb02baeabbe3))
* data race in testcode ([98f5536](https://github.com/rdalbuquerque/signalr/commit/98f55365f6e8e98ca11de3beff287fcf4e80c0f7))
* doc clarification about return values ([bfd9312](https://github.com/rdalbuquerque/signalr/commit/bfd931279bbda1d985e1029cfc536d15895d849a))
* don't panic when encountering web transports ([64421ca](https://github.com/rdalbuquerque/signalr/commit/64421ca77df0e5f2426fb59a0edc5df83dd5bec1))
* e2e test ([de6ae10](https://github.com/rdalbuquerque/signalr/commit/de6ae10e4d03b75f37652c39ade71357cac7e410))
* Encode length as unsigned int ([190cdcd](https://github.com/rdalbuquerque/signalr/commit/190cdcd27b59be44e1e82ec9e820a4d0f7c0e004))
* Encode messageType as positive fixint ([5e8b36c](https://github.com/rdalbuquerque/signalr/commit/5e8b36c1a4bcc5c5cb0733c9c5e9129e2533111b))
* Encode ping message as array ([ce62f90](https://github.com/rdalbuquerque/signalr/commit/ce62f9050f9a6c8df5f229da07a63b7cc90a3743))
* end PullStream with first error ([dc84c49](https://github.com/rdalbuquerque/signalr/commit/dc84c492f4ec6b5796235491df5ef5b1328d6a84))
* Flaky handshake test ([e7dbf11](https://github.com/rdalbuquerque/signalr/commit/e7dbf11ddce888950dd0b165e97c31a42c26a900))
* Flaky test "Clients().All() should invoke all clients" ([1b6f9db](https://github.com/rdalbuquerque/signalr/commit/1b6f9dbd9702982081180eb862cc912a989da2ab))
* Flaky test "Clients().All() should invoke all clients" ([ae6b2a6](https://github.com/rdalbuquerque/signalr/commit/ae6b2a6865654b2b799d6ebe68efb456fcd34287))
* Flaky test "Clients().All() should invoke all clients" ([1f7a1f0](https://github.com/rdalbuquerque/signalr/commit/1f7a1f07364bcb88d2879f442cc3c315dc4568e0))
* Flaky test "Partial messages: It should parse a message sent in two steps" ([0a56ce8](https://github.com/rdalbuquerque/signalr/commit/0a56ce8bd18394ec65a39d3e9fbb3e87e4c7bc5e))
* Flaky test "When an completion message with an result is sent after a stream item was received" ([f4243ad](https://github.com/rdalbuquerque/signalr/commit/f4243ad29cbb5b6aa4e02e3eef0ed472ae0edd8c))
* Flaky test "When an completion message with an result is sent after a stream item was received" ([828020e](https://github.com/rdalbuquerque/signalr/commit/828020ec66e0d7722effa1ffa3b76b7a49111b95))
* go version 1.16 ([fa93e6c](https://github.com/rdalbuquerque/signalr/commit/fa93e6cab15d9b22fbd9aafb95f99f5c8b375211))
* go websocket server rejects nil origin by default ([8c594ac](https://github.com/rdalbuquerque/signalr/commit/8c594ac7c05fcad1678fc567b58ad3b033f09be2))
* go websocket server rejects nil origin by default ([b802a8f](https://github.com/rdalbuquerque/signalr/commit/b802a8fe01007ac55fbcb5eb91d721a49be07d1f))
* golangci-lint ([6542baa](https://github.com/rdalbuquerque/signalr/commit/6542baa00081a6bfe07e2fb27dfc814a35a46784))
* golint errors ([7811e77](https://github.com/rdalbuquerque/signalr/commit/7811e7784ff66b3280ae761032a15a5a32f9ae66))
* goreport problems ([51da2c2](https://github.com/rdalbuquerque/signalr/commit/51da2c219224547350e039e3ca97aaacc049cf11))
* handling of CompletionMessage never returned ([6ea9614](https://github.com/rdalbuquerque/signalr/commit/6ea961429fcbe71ed5cfd5c67684339bceacc32c))
* Hanging goroutine in test ([b6c9077](https://github.com/rdalbuquerque/signalr/commit/b6c9077358f793f708fdc160795fd81b197eefd8))
* Hanging loop goroutine ([d710897](https://github.com/rdalbuquerque/signalr/commit/d710897b1f592856befb8a4637ea64d06589977e))
* Hanging loop goroutine ([8240d30](https://github.com/rdalbuquerque/signalr/commit/8240d30cf220e81f4ee258cdb8d64dd8fcbf3fef))
* Hanging SSE test on Windows ([4514350](https://github.com/rdalbuquerque/signalr/commit/4514350f6362358716a16957dd8c07d781e3b9ab))
* hanging tests ([1ef3d68](https://github.com/rdalbuquerque/signalr/commit/1ef3d68bb6309dc80804a9425eb0171467fe6dc9))
* hanging tests and vet/lint errors ([e5c567a](https://github.com/rdalbuquerque/signalr/commit/e5c567a12363365336c640d00345a837b01e7faa))
* incorrect error text ([45be65f](https://github.com/rdalbuquerque/signalr/commit/45be65f34615bcec002535f15c3151cec3139d6b))
* invocationMessage: List of parameters was passed as one array of parameters ([e7857f6](https://github.com/rdalbuquerque/signalr/commit/e7857f6b73030fca7258b4aa362346698e48a69b))
* Leak in AutoReconnect ([e50db63](https://github.com/rdalbuquerque/signalr/commit/e50db63c7d31b5c355abb433b98c7a84fdaf442c))
* Leak in AutoReconnect ([63fb61e](https://github.com/rdalbuquerque/signalr/commit/63fb61e73852beec67ffb2a9ffb03ffd80121493))
* lint ([74d77d5](https://github.com/rdalbuquerque/signalr/commit/74d77d5dcf0f0c568cae67100ded3271731c66f2))
* Lint error ([f395a9c](https://github.com/rdalbuquerque/signalr/commit/f395a9c02785d08e680506fdd6e2458231a158d0))
* lint findings ([5f53e36](https://github.com/rdalbuquerque/signalr/commit/5f53e362da9108d0fb05398a10e35c034b1a4e33))
* lint problem ([45fa8f5](https://github.com/rdalbuquerque/signalr/commit/45fa8f5ba58ca8fe4e4c7113a66b9bbd09482671))
* loop is sending CloseMessage on closed connection ([7c2d1e1](https://github.com/rdalbuquerque/signalr/commit/7c2d1e18fecea1028d9e5de57c0fe12df78da3c9))
* MessagePack could only decode to maps with string keys ([90620c6](https://github.com/rdalbuquerque/signalr/commit/90620c635d56e7bf225f5faaaee59936597d28ae))
* Messages wit more than two parts could not be parsed ([afeccc5](https://github.com/rdalbuquerque/signalr/commit/afeccc57aebf38b48b7196773a23834521d02adb))
* missing defer for Unlock ([662032c](https://github.com/rdalbuquerque/signalr/commit/662032c99022d95e3373cf50d79582aa0655eac3))
* missing items in PullStream ([ec32ac2](https://github.com/rdalbuquerque/signalr/commit/ec32ac2740c1893d350843a5f04ee2a02834a022))
* Missing SetReadLimit for websocket connection ([c42dfee](https://github.com/rdalbuquerque/signalr/commit/c42dfee6a45991f993a0c5f8465f0aba8906e832))
* Move SetReadLimit to the right place ([3af722b](https://github.com/rdalbuquerque/signalr/commit/3af722b24f9eb124ed525f16feb0b817f65944b7))
* negotiate error after "rename" refactoring ([16dc0b0](https://github.com/rdalbuquerque/signalr/commit/16dc0b09207cc94a05d94c901eb9a5149f631079))
* negotiateVersion is int not string ([d7a780b](https://github.com/rdalbuquerque/signalr/commit/d7a780bbcc81df7be222b6a97301200f0b6596de))
* negotiation context cancels connection ([55ff6d4](https://github.com/rdalbuquerque/signalr/commit/55ff6d495eabbd097e52c2d45152f051bbc98b3f))
* NewConnectionBase copied sync.Locker ([ee72249](https://github.com/rdalbuquerque/signalr/commit/ee722498831b17f09c6f79d289d72efe68a8d6eb))
* no connection with SSE version 1 ([db3d68b](https://github.com/rdalbuquerque/signalr/commit/db3d68b8afb0057299f926a7a45755996260cc6e))
* Non blocking Invoke methods ([4160e9a](https://github.com/rdalbuquerque/signalr/commit/4160e9ad993f38b27136e3f0c567de018d3264c8))
* npm error output as string ([307a22d](https://github.com/rdalbuquerque/signalr/commit/307a22ddd6b6bc4b6ef4a3f90a579923bfe9b47f))
* ObserveStateChanged was not canceled ([40dd4f0](https://github.com/rdalbuquerque/signalr/commit/40dd4f0610868ddaea52d1b514ee7b57a6e069ae))
* occasional push on closed channel in receive ([b6e0780](https://github.com/rdalbuquerque/signalr/commit/b6e0780d59916ef478bb97a623a6398ed0b4c891))
* only read/write error set stream to nil ([4a9ea04](https://github.com/rdalbuquerque/signalr/commit/4a9ea0435ae73d9b775ecb9ddb4fd226cb31b606))
* only use WebTransport when TransportWebTransports is set as client option ([6aa9891](https://github.com/rdalbuquerque/signalr/commit/6aa98919cfe8674a3da4c7154a3102bb6eb72fbd))
* party.timeout() was not applied to connection ([1a3d693](https://github.com/rdalbuquerque/signalr/commit/1a3d693c22d3e672a2aa0a1e607d7fbf3275c06e))
* path-parse dependabot ([66669ee](https://github.com/rdalbuquerque/signalr/commit/66669eeda11807a7f1ce8f3b04e42b8dd76fb1b5))
* pin iterator for closure ([1caedf0](https://github.com/rdalbuquerque/signalr/commit/1caedf001c92d951e3096fd32604dac6a4f20352))
* Prevent empty data: line SSE ([a6ece48](https://github.com/rdalbuquerque/signalr/commit/a6ece487939c30ccc71c3a1de2ad740f189773ad))
* prevent goroutine leak when connection fails ([05bcd52](https://github.com/rdalbuquerque/signalr/commit/05bcd525c674def5681d911d67a1d2365553b2b3))
* prevent panic when PushStateChanged channel is closed ([4a9f6a0](https://github.com/rdalbuquerque/signalr/commit/4a9f6a073176402f57459d2bc9e9bc70299a786e))
* Prevent timeout reset on ping ([bace5a6](https://github.com/rdalbuquerque/signalr/commit/bace5a6e0450272c6377b9a48f1dbf0f259b8f0d))
* properly stop client on Stop ([0a7b064](https://github.com/rdalbuquerque/signalr/commit/0a7b0648d262a92a2ea57da03f930797c492642d))
* properly stop client on Stop ([bb0f08b](https://github.com/rdalbuquerque/signalr/commit/bb0f08b86b0e85ebaf7fc170cda39cbdd2f69727))
* PushStreams sporadically returns no error when connection fails ([4e07060](https://github.com/rdalbuquerque/signalr/commit/4e07060685db254fd72d4111e4538886f6559e98))
* Race condition in ClientConnection.Start ([40e6b1d](https://github.com/rdalbuquerque/signalr/commit/40e6b1df08881d166560b68c37bfd7710d9d87f0))
* Race in GetNewID ([96a05b3](https://github.com/rdalbuquerque/signalr/commit/96a05b3027a40eb6e875ccf8d1d59110d1558161))
* Race in GetNewID ([249086a](https://github.com/rdalbuquerque/signalr/commit/249086a51b13b9e1032996462889b2bc31c4da23))
* race in serverSSEConnection ([c65fa36](https://github.com/rdalbuquerque/signalr/commit/c65fa368e72e0b129fe5779b6b26af117b358cfe))
* race in state observation ([0449965](https://github.com/rdalbuquerque/signalr/commit/044996590512dffc7a3b72d7fdae959a2a3b7dd6))
* race in webSocketConnection.Write ([a6e50c4](https://github.com/rdalbuquerque/signalr/commit/a6e50c4b3d14b848dd3f903dc2f86cb2d618e5f4))
* Race on ConnectionBase.ctx ([9cbbedf](https://github.com/rdalbuquerque/signalr/commit/9cbbedf7d0b8ce12915f5d2f583435b36d76f51e))
* race testcode ([07e4938](https://github.com/rdalbuquerque/signalr/commit/07e4938ab4428abcd932938092141c36821c0e58))
* Race when Hub is not used transient ([4130d71](https://github.com/rdalbuquerque/signalr/commit/4130d71617619f33cc623af5c7e38a03207d9259))
* recoverLogger shows wrong caller location ([469c33b](https://github.com/rdalbuquerque/signalr/commit/469c33bbd6d9227f55c3d0cb4b074370d3c4bfbc))
* Remove needless check for EOF ([5e17b02](https://github.com/rdalbuquerque/signalr/commit/5e17b02f980d2f60fcbe82316219f9bad08d7e3a))
* removed test focus ([048e2a3](https://github.com/rdalbuquerque/signalr/commit/048e2a34be0cd8a77332208b86d78832d9dc2605))
* removed test shim ([bbf78c1](https://github.com/rdalbuquerque/signalr/commit/bbf78c163ea5a20862d74b10e1a55354030e4635))
* Reset timeout on successful Ping ([729f03b](https://github.com/rdalbuquerque/signalr/commit/729f03be0de1dfc1bb80e17f3c06be2dfffacba2))
* revert commit of focused test ([d188d73](https://github.com/rdalbuquerque/signalr/commit/d188d731bf042e1d9b9dc163b252ae932e9b5b7b))
* Sample did not work with websockets ([1f63bef](https://github.com/rdalbuquerque/signalr/commit/1f63bef6088aa9c1e45010293cd2486cdee6b9b3))
* Send StreamInvocation only when invocation result is stream ([1efb88e](https://github.com/rdalbuquerque/signalr/commit/1efb88ecaa6949d5f0521d156fcd5167fe574c6e))
* Send websocket status codes instead of http codes ([dd8fefa](https://github.com/rdalbuquerque/signalr/commit/dd8fefa2c082dfe7ae4827ab548c11b1ffa1c0db))
* Server could not parse more than one message in frame ([b6ce6de](https://github.com/rdalbuquerque/signalr/commit/b6ce6dee530764c9f72fbf02db22d14f1c9513e2))
* server was ignoring client messages when it sent a ping ([8d035b5](https://github.com/rdalbuquerque/signalr/commit/8d035b554424326a7849872bcbe46356f6c9cc52))
* server was ignoring client messages when it sent a ping ([428d198](https://github.com/rdalbuquerque/signalr/commit/428d1987aece0904658d0119db8e544d945b6551))
* Set client status to Closed, when backoff exceeds ([0480e2d](https://github.com/rdalbuquerque/signalr/commit/0480e2df2eb4a7912a85ecefd537b89718a20b8a))
* Set id query param, according to the negotiateVersion ([747ba55](https://github.com/rdalbuquerque/signalr/commit/747ba55f12af7580fe2d00c1d409bde400fa7aab))
* shim tests while sse development ([fdd6c23](https://github.com/rdalbuquerque/signalr/commit/fdd6c23d2f08029bfa648dd9e6a1bd7576cfa664))
* silence dependabot ([aaa4b8f](https://github.com/rdalbuquerque/signalr/commit/aaa4b8fe33b294d7daccaab8a5a8d9fea08a80c8))
* support parsing of partial and multiple messages ([88335c9](https://github.com/rdalbuquerque/signalr/commit/88335c970b565dd1f4cba8e787d76250de976943))
* Test for real ConnectionId ([3bbb22e](https://github.com/rdalbuquerque/signalr/commit/3bbb22eb23c3d58c158d8de59efa8c12fb7b6cc9))
* Test for real ConnectionId ([5b9a40a](https://github.com/rdalbuquerque/signalr/commit/5b9a40a955a89a0a7fea4eb7d94c1987a9a14cca))
* test logging ([fa9e54d](https://github.com/rdalbuquerque/signalr/commit/fa9e54d4a95bf55aa9904400706c11046aae6e02))
* testing codecov configuration ([4f90ebf](https://github.com/rdalbuquerque/signalr/commit/4f90ebf8a21b2ca867c2dbc2f67d83888fc48406))
* testing codecov configuration ([70ed8fa](https://github.com/rdalbuquerque/signalr/commit/70ed8fa6d6fd7f5fb258fac99db5f8f8b1cfe9a0))
* testing codecov configuration ([8da657b](https://github.com/rdalbuquerque/signalr/commit/8da657b7506c78f498ddf723c550d03358bd4d4d))
* Timeouts ans race conditions in clientconnection ([77be2fe](https://github.com/rdalbuquerque/signalr/commit/77be2fe33fcc429ec35542c287abde27f4cf0fe5))
* typo in comment ([7d65d3c](https://github.com/rdalbuquerque/signalr/commit/7d65d3c6d1454a12f561bd5df3ef52946ad5982f))
* typos ([3d9c420](https://github.com/rdalbuquerque/signalr/commit/3d9c420b4099a8202e9063fadb9d8b908e3caa17))
* Unconstrain tests ([4e603b4](https://github.com/rdalbuquerque/signalr/commit/4e603b4c0ec8f336d0d86bf5f2eec470958c67bc))
* upgrade @microsoft/signalr from 5.0.1 to 5.0.3 ([9ec3431](https://github.com/rdalbuquerque/signalr/commit/9ec3431b9cb30bfefe458111178a7bf2dfaaae5f))
* upgrade @microsoft/signalr-protocol-msgpack from 5.0.1 to 5.0.3 ([fc17361](https://github.com/rdalbuquerque/signalr/commit/fc173619c2695d771f57cf8a22c979e74e0c57de))
* upgrade @types/jest from 26.0.15 to 26.0.20 ([f7cfce5](https://github.com/rdalbuquerque/signalr/commit/f7cfce5dae9b312198fa118bc4e085b19953e5b4))
* upgrade @types/node from 12.19.15 to 12.20.4 ([4da450e](https://github.com/rdalbuquerque/signalr/commit/4da450e3d4635149e24e494fc2f1faefafcd1ad9))
* upgrade @types/node from 12.19.3 to 12.19.15 ([536b278](https://github.com/rdalbuquerque/signalr/commit/536b2789ddb8d7531bef48d332976c6a89df870e))
* upgrade jest from 26.6.1 to 26.6.3 ([d9ab7a2](https://github.com/rdalbuquerque/signalr/commit/d9ab7a26e4b53c58691c9f96950b2b01438521bb))
* upgrade rxjs from 6.6.3 to 6.6.6 ([278d4a8](https://github.com/rdalbuquerque/signalr/commit/278d4a8735bc7c834a67f6ab15f54cfc9b2ae5ad))
* upgrade ts-jest from 26.4.3 to 26.5.0 ([10edb55](https://github.com/rdalbuquerque/signalr/commit/10edb55298b572c8177dad013994a8c13f611653))
* upgrade ts-jest from 26.5.0 to 26.5.2 ([291cea6](https://github.com/rdalbuquerque/signalr/commit/291cea634764bef0260b74a1b09d57715ede3cd9))
* upgrade ts-jest from 26.5.2 to 26.5.3 ([e7b5ba2](https://github.com/rdalbuquerque/signalr/commit/e7b5ba2e4dac287d0ce2501be759d58489e0ac08))
* upgrade typescript from 4.0.5 to 4.1.3 ([727eeb9](https://github.com/rdalbuquerque/signalr/commit/727eeb9c9b9ac0b1abc57c709d6a4b3959ee8219))
* upgrade typescript from 4.1.3 to 4.2.2 ([17a2051](https://github.com/rdalbuquerque/signalr/commit/17a2051911fc1b949082fd4dbf4f6695c8083e86))
* use json tags in msgpack to ensure uppercase/lowercase mapping for struct member names ([20112bc](https://github.com/rdalbuquerque/signalr/commit/20112bce01d52ab88e8f49c2723178230aed128b))
* wait for server port to be served ([48e87ec](https://github.com/rdalbuquerque/signalr/commit/48e87eca640b51b9c11e2fffbd8cf4767632bc61))
* WaitForClientState failed sporadically ([e8de7aa](https://github.com/rdalbuquerque/signalr/commit/e8de7aac5f5bf17395913c2c6014587c2a2e5a47))
* websocketconnection does not use connection context ([9b2083d](https://github.com/rdalbuquerque/signalr/commit/9b2083d7133b83499eaec2287312fe8a649c20c7))
* WebSocketConnection: Timeout on Read shuts down writing connection ([85843c5](https://github.com/rdalbuquerque/signalr/commit/85843c5276c5aed954c4ead7881de03f8cffa89e))
* websocketserver test ([24aea32](https://github.com/rdalbuquerque/signalr/commit/24aea32e394861df60e7175f44f5b785ba108769))
* when server returns unknown negotiation transport return a error ([b98cd08](https://github.com/rdalbuquerque/signalr/commit/b98cd080c9892da3509dacfae590e30753755885))
* wrong error message ([6fdad05](https://github.com/rdalbuquerque/signalr/commit/6fdad052474d01afff187f3822044a92fc59f940))
* wrong MessagePack frameLength encoding ([367c8ec](https://github.com/rdalbuquerque/signalr/commit/367c8ec20c8c2630bff055ae0b268afea40780c4))
* Wrong negotiate address ([0631cb4](https://github.com/rdalbuquerque/signalr/commit/0631cb445afceb4d66c8411d5afe8828f0db7fa9))
